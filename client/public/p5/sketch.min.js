use:;
var para,
  button,
  canv,
  inp,
  label,
  items,
  list,
  btn,
  comp,
  fileup,
  div,
  img,
  vid,
  cam,
  cap,
  li,
  get,
  file,
  tm,
  aud,
  slid,
  vol,
  hiddenbtn,
  selector,
  hiddeninp,
  container,
  clock,
  filename;
function setup() {
  (canv = createCanvas(400, 400).position(700, 100)),
    (div = select(".container")),
    div.child(canv),
    canv.hide(),
    (cam = select("#btn3").mouseClicked(webcam).position(400, 250)),
    (fileup = createFileInput(handleFile, "multiple").hide()),
    div.child(fileup),
    (hiddenbtn = select("#buts").hide()),
    (para = select("#intro")),
    para.position(100, 100),
    (inp = select("#inp").position(100, 300)),
    (label = select("#labe").position(50, 200)),
    (button = select("#btn").position(100, 250)),
    button.mousePressed(addme),
    (list = select("#thelist")),
    (btn = select("#btn2").position(250, 250)),
    btn.mouseClicked(some),
    inp.class("custom-file"),
    (slid = createSlider(0, 1, 0.1, 0)),
    slid.position(100, 500),
    slid.style("width", "100px"),
    slid.hide(),
    (container = div),
    (filename = createP("kk").hide().position(300, 150)),
    container.child(vol),
    (selector = select("#mysel").position(100, 100)),
    selector.changed(action),
    (hiddeninp = select("#inp_stuff").hide()),
    (clock = createElement("span", '<h1 id="time"><h1>')),
    clock.position(500, 200).hide();
}
function draw() {
  img && image(img, 0, 0, width, height);
}
function addme() {
  img ||
    vid ||
    cap ||
    !(0 < inp.value().length) ||
    ((tm = inp.value()),
    (li = createElement("li", tm).class("list-group-item")),
    list.class("list-group"),
    (comp = list.child(li)));
}
function some() {
  vid ||
    img ||
    cap ||
    (0 < comp.html().length
      ? comp.html("")
      : comp.html("empty").class("alert-warning"));
}
function handleFile(a) {
  switch (
    (print(a),
    filename.html(a.name).addClass("alert alert-warning").show(),
    fileup.hide(),
    a.type)
  ) {
    case "image":
      (img = createImg(a.data)),
        img.hide(),
        hiddenbtn.show(),
        canv.size(500, 500),
        para.html(
          "Hey, you just uploaded an image, click the buttons below to show or hide the image",
        ),
        para.class(" alert-info"),
        canv.position(700, 140),
        button.hide() && btn.hide(),
        cam.value("Upload next").mouseClicked(function () {
          canv.hide(), fileup.show();
        });
      break;
    case "video":
      (vid = createVideo(a.data)),
        vid.size(500, 500),
        vid.volume(0.1),
        vid.show(),
        vid.showControls(),
        canv.hide(),
        hiddenbtn.show(),
        selector.show(),
        para.html(
          "You've successfully uploaded a video file, use the buttons below to pause or play the file",
        ),
        para.class("  alert-info"),
        slid.changed(function (a) {
          vid.volume(a.target.value);
        }),
        slid.show(),
        vid.position(700, 170),
        button.hide(),
        btn.hide(),
        cam.value("Upload next").mousePressed(function () {
          vid.stop(), vid.hide(), fileup.show();
        });
      break;
    case "audio":
      (aud = createAudio(a.data)),
        aud.volume(0.1),
        aud.hide(),
        aud.showControls(),
        aud.loop(!1),
        hiddenbtn.show(),
        button.hide(),
        btn.hide(),
        aud.show(),
        selector.position(100, 400).show(),
        para
          .html(
            "You managed to upload an audio, use the buttons below to play, pause and upload next,  plug in headphone or tune up the speaker",
          )
          .class("alert-info"),
        inp.hide(),
        label.hide(),
        div.size(800, 800),
        aud.position(800, 170),
        slid.show(),
        (vol = slid.value()),
        slid.changed(function (a) {
          aud.volume(a.target.value);
        }),
        button.value("Show audio").mousePressed(function () {
          createP("VOLUME").position(100, 450).class("alert-danger"),
            slid.show(),
            aud.show(),
            aud.play();
        }),
        btn.value("hide").mouseClicked(function () {
          aud.hide();
        }),
        cam
          .value("Upload and play next")
          .mousePressed(function () {
            aud.stop(), fileup.show(), aud.hide();
          })
          .position(400, 250);
      break;
    default:
      para
        .html(
          "THIS FILE TYPE IS NOT SUPPORTED,  TRY UPLOADING VIDEO,AUDIO AND IMAGES FILE",
        )
        .addClass("alert alert-warning"),
        selector.show(),
        fileup.show();
  }
}
function webcam() {
  img ||
    vid ||
    aud ||
    ((cap = createCapture(VIDEO).position(600, 170)),
    container.child(cap),
    cap.hide(),
    hiddenbtn.show(),
    selector.show().position(100, 400),
    para.html(
      "This function is supported by PCs with web cameras and particular browsers i.e the latest browser versions",
    ),
    inp.hide(),
    label.hide(),
    para.class(" text-warning"),
    button.value("Show live-video").mouseClicked(function () {
      canv.hide(), cap.show();
    }),
    btn.value("hide recording").mouseClicked(function () {
      cap.hide();
    }),
    cam.value("add filter").mouseClicked(function () {
      function a() {
        switch ((cap.hide(), b.value())) {
          case "blur":
            cap.style("filter", "blur(7px)"), cap.show();
            break;
          case "grayscale":
            cap.style("filter", "grayscale(100%)"), cap.show();
            break;
          case "invert":
            cap.style("filter", "invert(100%)"), cap.show();
            break;
          case "sepia":
            cap.style("filter", "sepia(100%)"), cap.show();
            break;
          default:
            cap.style("filter", "none"), cap.show();
        }
      }
      let b = createSelect().position(500, 250);
      container.child(b),
        b.option("blur"),
        b.option("grayscale"),
        b.option(""),
        b.option("invert"),
        b.option("sepia"),
        b.changed(a);
    }));
}
function action() {
  switch (selector.value()) {
    case "LIST EDITOR":
      selector.position(300, 400).show(),
        hiddenbtn.show(),
        hiddeninp.show(),
        cam.hide();
      var a = select(".res").show();
      a.html("LIST"), clock.hide();
      break;
    case "MEDIA PLAYER":
      selector.show().position(200, 100),
        cam.show(),
        hiddeninp.hide(),
        clock.hide(),
        fileup.show();
      break;
    case "WEBCAM":
      selector.position(200, 300).show(),
        hiddeninp.hide(),
        hiddenbtn.show(),
        select(".res").hide(),
        clock.hide();
      break;
    case "watch":
      selector.position(200, 100).show(),
        hiddenbtn.hide(),
        hiddeninp.hide(),
        fileup.hide(),
        clock.addClass("alert alert-success").show();
      var b, c;
      setInterval(() => {
        (b = new Date()), (c = b.toLocaleTimeString());
        let a = new timer(c);
        a.tell("#time");
      }, 1e3);
      break;
    case "DEFAULT":
      selector.position(200, 100).show(),
        hiddenbtn.hide(),
        hiddeninp.hide(),
        fileup.hide();
  }
}
var timer = class {
  constructor(a) {
    this.time = a;
  }
  tell(a) {
    let b = select(a);
    b.html(this.time);
  }
};
